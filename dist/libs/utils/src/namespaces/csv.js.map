{"version":3,"sources":["../../../../../libs/utils/src/namespaces/csv.ts"],"sourcesContent":["import Papa from \"papaparse\";\r\n\r\nimport { Json } from \"./types\";\r\n\r\nexport const parseCSV = async (string: string) => {\r\n  return new Promise<Json[]>((resolve, reject) => {\r\n    Papa.parse(string, {\r\n      header: true,\r\n      skipEmptyLines: true,\r\n      complete: (results) => resolve(results.data as Json[]),\r\n      error: (error: Error) => reject(error),\r\n    });\r\n  });\r\n};\r\n\r\n/**\r\n * Parser for cases when we receive an array like structure f.e. a in the LinkedIn Profile.csv import\r\n * @param csvEntry array-like entry such as [TAG:https://some.link,TAG:https://someother.link]\r\n * @returns\r\n */\r\nexport const parseArrayLikeCSVEntry = (csvEntry: string) =>\r\n  csvEntry.replace(/^\\[/, \"\").replace(/$\\]/, \"\").split(\",\");\r\n"],"names":["parseArrayLikeCSVEntry","parseCSV","string","Promise","resolve","reject","Papa","parse","header","skipEmptyLines","complete","results","data","error","csvEntry","replace","split"],"mappings":";;;;;;;;;;;IAoBaA,sBAAsB;eAAtBA;;IAhBAC,QAAQ;eAARA;;;;oEAJI;AAIV,MAAMA,WAAW,OAAOC;IAC7B,OAAO,IAAIC,QAAgB,CAACC,SAASC;QACnCC,kBAAI,CAACC,KAAK,CAACL,QAAQ;YACjBM,QAAQ;YACRC,gBAAgB;YAChBC,UAAU,CAACC,UAAYP,QAAQO,QAAQC,IAAI;YAC3CC,OAAO,CAACA,QAAiBR,OAAOQ;QAClC;IACF;AACF;AAOO,MAAMb,yBAAyB,CAACc,WACrCA,SAASC,OAAO,CAAC,OAAO,IAAIA,OAAO,CAAC,OAAO,IAAIC,KAAK,CAAC"}