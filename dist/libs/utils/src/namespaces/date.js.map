{"version":3,"sources":["../../../../../libs/utils/src/namespaces/date.ts"],"sourcesContent":["import dayjs from \"dayjs\";\r\n\r\nexport const sortByDate = <T>(a: T, b: T, key: keyof T, desc = true) => {\r\n  if (!a[key] || !b[key]) return 0;\r\n  if (!(a[key] instanceof Date) || !(b[key] instanceof Date)) return 0;\r\n\r\n  if (dayjs(a[key] as Date).isSame(dayjs(b[key] as Date))) return 0;\r\n  if (desc) return dayjs(a[key] as Date).isBefore(dayjs(b[key] as Date)) ? 1 : -1;\r\n  else return dayjs(a[key] as Date).isBefore(dayjs(b[key] as Date)) ? -1 : 1;\r\n};\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nexport const deepSearchAndParseDates = (obj: any, dateKeys: string[]): any => {\r\n  if (typeof obj !== \"object\" || obj === null) {\r\n    return obj;\r\n  }\r\n\r\n  const keys = Object.keys(obj);\r\n\r\n  if (keys.length === 0) {\r\n    return obj;\r\n  }\r\n\r\n  for (const key of keys) {\r\n    let value = obj[key];\r\n\r\n    if (dateKeys.includes(key)) {\r\n      if (typeof value === \"string\") {\r\n        const parsedDate = new Date(value);\r\n        if (!isNaN(parsedDate.getTime())) {\r\n          value = parsedDate;\r\n        }\r\n      }\r\n    }\r\n\r\n    obj[key] = deepSearchAndParseDates(value, dateKeys);\r\n  }\r\n\r\n  return obj;\r\n};\r\n"],"names":["deepSearchAndParseDates","sortByDate","a","b","key","desc","Date","dayjs","isSame","isBefore","obj","dateKeys","keys","Object","length","value","includes","parsedDate","isNaN","getTime"],"mappings":";;;;;;;;;;;IAYaA,uBAAuB;eAAvBA;;IAVAC,UAAU;eAAVA;;;;gEAFK;AAEX,MAAMA,aAAa,CAAIC,GAAMC,GAAMC,KAAcC,OAAO,IAAI;IACjE,IAAI,CAACH,CAAC,CAACE,IAAI,IAAI,CAACD,CAAC,CAACC,IAAI,EAAE,OAAO;IAC/B,IAAI,CAAEF,CAAAA,CAAC,CAACE,IAAI,YAAYE,IAAG,KAAM,CAAEH,CAAAA,CAAC,CAACC,IAAI,YAAYE,IAAG,GAAI,OAAO;IAEnE,IAAIC,IAAAA,cAAK,EAACL,CAAC,CAACE,IAAI,EAAUI,MAAM,CAACD,IAAAA,cAAK,EAACJ,CAAC,CAACC,IAAI,IAAY,OAAO;IAChE,IAAIC,MAAM,OAAOE,IAAAA,cAAK,EAACL,CAAC,CAACE,IAAI,EAAUK,QAAQ,CAACF,IAAAA,cAAK,EAACJ,CAAC,CAACC,IAAI,KAAa,IAAI,CAAC;SACzE,OAAOG,IAAAA,cAAK,EAACL,CAAC,CAACE,IAAI,EAAUK,QAAQ,CAACF,IAAAA,cAAK,EAACJ,CAAC,CAACC,IAAI,KAAa,CAAC,IAAI;AAC3E;AAGO,MAAMJ,0BAA0B,CAACU,KAAUC;IAChD,IAAI,OAAOD,QAAQ,YAAYA,QAAQ,MAAM;QAC3C,OAAOA;IACT;IAEA,MAAME,OAAOC,OAAOD,IAAI,CAACF;IAEzB,IAAIE,KAAKE,MAAM,KAAK,GAAG;QACrB,OAAOJ;IACT;IAEA,KAAK,MAAMN,OAAOQ,KAAM;QACtB,IAAIG,QAAQL,GAAG,CAACN,IAAI;QAEpB,IAAIO,SAASK,QAAQ,CAACZ,MAAM;YAC1B,IAAI,OAAOW,UAAU,UAAU;gBAC7B,MAAME,aAAa,IAAIX,KAAKS;gBAC5B,IAAI,CAACG,MAAMD,WAAWE,OAAO,KAAK;oBAChCJ,QAAQE;gBACV;YACF;QACF;QAEAP,GAAG,CAACN,IAAI,GAAGJ,wBAAwBe,OAAOJ;IAC5C;IAEA,OAAOD;AACT"}