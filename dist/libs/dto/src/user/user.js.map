{"version":3,"sources":["../../../../../libs/dto/src/user/user.ts"],"sourcesContent":["import { idSchema } from \"@reactive-resume/schema\";\r\nimport { createZodDto } from \"nestjs-zod/dto\";\r\nimport { z } from \"nestjs-zod/z\";\r\n\r\nimport { secretsSchema } from \"../secrets\";\r\n\r\nexport const usernameSchema = z\r\n  .string()\r\n  .min(3)\r\n  .max(255)\r\n  .regex(/^[a-z0-9._-]+$/, {\r\n    message:\r\n      \"Usernames can only contain lowercase letters, numbers, periods, hyphens, and underscores.\",\r\n  });\r\n\r\nexport const userSchema = z.object({\r\n  id: idSchema,\r\n  name: z.string().min(3).max(255),\r\n  picture: z.literal(\"\").or(z.null()).or(z.string().url()),\r\n  username: usernameSchema,\r\n  email: z.string().email(),\r\n  locale: z.string().default(\"en-US\"),\r\n  emailVerified: z.boolean().default(false),\r\n  twoFactorEnabled: z.boolean().default(false),\r\n  provider: z.enum([\"email\", \"github\", \"google\"]).default(\"email\"),\r\n  createdAt: z.date().or(z.dateString()),\r\n  updatedAt: z.date().or(z.dateString()),\r\n});\r\n\r\nexport class UserDto extends createZodDto(userSchema) {}\r\n\r\nexport const userWithSecretsSchema = userSchema.merge(z.object({ secrets: secretsSchema }));\r\n\r\nexport class UserWithSecrets extends createZodDto(userWithSecretsSchema) {}\r\n"],"names":["UserDto","UserWithSecrets","userSchema","userWithSecretsSchema","usernameSchema","z","string","min","max","regex","message","object","id","idSchema","name","picture","literal","or","null","url","username","email","locale","default","emailVerified","boolean","twoFactorEnabled","provider","enum","createdAt","date","dateString","updatedAt","createZodDto","merge","secrets","secretsSchema"],"mappings":";;;;;;;;;;;IA6BaA,OAAO;eAAPA;;IAIAC,eAAe;eAAfA;;IAlBAC,UAAU;eAAVA;;IAgBAC,qBAAqB;eAArBA;;IAzBAC,cAAc;eAAdA;;;wBANY;qBACI;mBACX;yBAEY;AAEvB,MAAMA,iBAAiBC,IAAC,CAC5BC,MAAM,GACNC,GAAG,CAAC,GACJC,GAAG,CAAC,KACJC,KAAK,CAAC,kBAAkB;IACvBC,SACE;AACJ;AAEK,MAAMR,aAAaG,IAAC,CAACM,MAAM,CAAC;IACjCC,IAAIC,gBAAQ;IACZC,MAAMT,IAAC,CAACC,MAAM,GAAGC,GAAG,CAAC,GAAGC,GAAG,CAAC;IAC5BO,SAASV,IAAC,CAACW,OAAO,CAAC,IAAIC,EAAE,CAACZ,IAAC,CAACa,IAAI,IAAID,EAAE,CAACZ,IAAC,CAACC,MAAM,GAAGa,GAAG;IACrDC,UAAUhB;IACViB,OAAOhB,IAAC,CAACC,MAAM,GAAGe,KAAK;IACvBC,QAAQjB,IAAC,CAACC,MAAM,GAAGiB,OAAO,CAAC;IAC3BC,eAAenB,IAAC,CAACoB,OAAO,GAAGF,OAAO,CAAC;IACnCG,kBAAkBrB,IAAC,CAACoB,OAAO,GAAGF,OAAO,CAAC;IACtCI,UAAUtB,IAAC,CAACuB,IAAI,CAAC;QAAC;QAAS;QAAU;KAAS,EAAEL,OAAO,CAAC;IACxDM,WAAWxB,IAAC,CAACyB,IAAI,GAAGb,EAAE,CAACZ,IAAC,CAAC0B,UAAU;IACnCC,WAAW3B,IAAC,CAACyB,IAAI,GAAGb,EAAE,CAACZ,IAAC,CAAC0B,UAAU;AACrC;AAEO,IAAA,AAAM/B,UAAN,MAAMA,gBAAgBiC,IAAAA,iBAAY,EAAC/B;AAAa;AAEhD,MAAMC,wBAAwBD,WAAWgC,KAAK,CAAC7B,IAAC,CAACM,MAAM,CAAC;IAAEwB,SAASC,sBAAa;AAAC;AAEjF,IAAA,AAAMnC,kBAAN,MAAMA,wBAAwBgC,IAAAA,iBAAY,EAAC9B;AAAwB"}